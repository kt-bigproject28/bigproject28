<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Predict Income</title>
</head>
<body>
    <h1>예측 소득 알아보기</h1>
    <form method="post" action="/prediction/">
        {% csrf_token %}
        <label for="land_area">토지면적(평) :</label>
        <input type="text" id="land_area" name="land_area"><br>
        <label for="region">예상 판매 지역 :</label>
        <input type="text" id="region" name="region"><br><br>
        
        <div id="crop-inputs">
            <div class="crop-input">
                <label for="crop_name">작물명 :</label>
                <input type="text" name="crop_name"><br>
                <label for="crop_ratio">작물비율 :</label>
                <input type="text" name="crop_ratio"><br>
                <button type="button" onclick="removeCropInput(this)">작물 삭제하기</button><br><br>
            </div>
        </div>
        
        <button type="button" onclick="addCropInput()">작물 추가하기</button><br><br>
        <button type="submit">결과보기</button>
    </form>
    
    <script>
        function addCropInput() {
            var cropInputs = document.getElementById('crop-inputs');
            var newInput = document.createElement('div');
            newInput.className = 'crop-input';
            newInput.innerHTML = '<label for="crop_name">작물명 : </label><input type="text" name="crop_name"><br><label for="crop_ratio">작물비율 : </label><input type="text" name="crop_ratio"><br><br><button type="button" onclick="removeCropInput(this)">작물 삭제하기</button><br><br>';
            cropInputs.appendChild(newInput);
        }

        function removeCropInput(button) {
            var divToRemove = button.parentNode;
            divToRemove.parentNode.removeChild(divToRemove);
        }
    </script>
</body>
</html>
